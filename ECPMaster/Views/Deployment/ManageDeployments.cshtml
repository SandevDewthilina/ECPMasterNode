@{
    ViewData["Title"] = "Manage Deployments";
}

@model IEnumerable<ECPMaster.Entities.ECPDeployment>;

@section Styles
{
    <link rel="stylesheet" href="~/css/IAMrole/iam-role.css"/>
}

<div class="container">
    <section>
        <div class="page-main-header">@ViewData["Title"]</div>
        <div class="page-sub-header">
            View all deployment history
        </div>
    </section>
    <section class="mt-2 main-page-content">
        <div class="col-sm-12">
            <div class="d-flex justify-content-end">
                <a class="my-btn" asp-action="DeploymentPipeline" asp-controller="Deployment">Create Deployment</a>
            </div>
            <div class="my-card mt-3">
                <div class="my-card-header">ECP Deployments</div>
                <div class="my-card-body">
                    <div class="d-flex flex-wrap">
                        @foreach (var deployment in Model)
                        {
                            <!-- role item -->
                            <div class="role-container">
                                <div
                                    class="role-container-left d-flex flex-column justify-content-between mr-3">
                                    <div>
                                        <div style="font-size: 14px; font-weight: 900;" class="d-flex align-items-center">
                                            <div
                                                class="info-pair-subtitle status-badge-@deployment.Id"
                                                style="color: #266f16; font-size: 22px! important;">
                                                <i class="far fa-check-circle mr-1"></i>
                                            </div>
                                            <div>Deployment: @deployment.Name</div>
                                        </div>
                                        <div style="font-size: 12px; font-weight: 500; color: #232F3E;">Deployment Name: @deployment.Id</div>
                                        <div style="font-size: 12px; font-weight: 500; color: #232F3E;">Artifact: @deployment.Artifact.Name:@deployment.Artifact.Tag</div>
                                        <div style="font-size: 12px; font-weight: 500; color: #232F3E;">Node: @deployment.Node.NodeIdentifier</div>
                                        <div style="font-size: 12px; font-weight: 500; color: #232F3E;">Deployment Type: @deployment.Type</div>
                                    </div>
                                    <div class="mt-3" style="font-size: 10px; color: #232F3E; font-style: italic;">Click here to view more</div>
                                </div>
                                <div
                                    class="role-container-right d-flex justify-content-end align-items-center">
                                    <a class="my-btn mr-2" asp-action="EditRole" asp-controller="Administration" asp-route-id="@deployment.Id">edit</a>
                                    <a class="my-btn-danger" asp-action="DeleteRole" asp-controller="Administration" asp-route-id="@deployment.Id"
                                       onclick="return confirm('Are you sure to destroy this deployment : @deployment.Name')">
                                        destroy
                                    </a>
                                </div>
                            </div>
                            <!-- role item end -->
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>